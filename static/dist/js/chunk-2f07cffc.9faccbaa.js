(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2f07cffc"],{"0d9a":function(e,t,s){"use strict";s("1b1f")},"1b1f":function(e,t,s){},"293a":function(e,t,s){"use strict";s.r(t);var n=s("f2bf"),c={style:{"overscroll-behavior":"none"},class:"w-full h-5/6 bg-gray-200"},a={class:"fixed w-full bg-green-400 h-16 pt-2 text-white flex justify-between shadow-md z-10",style:{top:"0px","overscroll-behavior":"none"}},r=Object(n["k"])("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"w-12 h-12 my-1 text-green-100 ml-2"},[Object(n["k"])("path",{class:"text-green-100 fill-current",d:"M9.41 11H17a1 1 0 0 1 0 2H9.41l2.3 2.3a1 1 0 1 1-1.42 1.4l-4-4a1 1 0 0 1 0-1.4l4-4a1 1 0 0 1 1.42 1.4L9.4 11z"})],-1),l=Object(n["k"])("div",{class:"my-3 text-green-100 font-bold text-lg tracking-wide"}," 聊天室 ",-1),o=Object(n["k"])("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"icon-dots-vertical w-8 h-8 mt-2 mr-2"},[Object(n["k"])("path",{class:"text-green-100 fill-current","fill-rule":"evenodd",d:"M12 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4z"})],-1),i={class:"w-full h-full"},b={class:"text-sm border-r-4 border-red-500 pr-2"},u={class:"messages pl-2"},d={class:"text-xs absolute -bottom-3 right-1 p-2 mb-1"},g={class:"w-full flex justify-between bg-green-100"},f=Object(n["k"])("svg",{class:"svg-inline--fa text-green-400 fa-paper-plane fa-w-16 w-12 h-12 py-2 mr-2","aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"paper-plane",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[Object(n["k"])("path",{fill:"currentColor",d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"})],-1),j=[f];function p(e,t,s,f,p,w){var O=Object(n["K"])("router-link");return Object(n["C"])(),Object(n["j"])(n["a"],null,[Object(n["k"])("div",c,[Object(n["k"])("div",a,[Object(n["n"])(O,{to:"/"},{default:Object(n["V"])((function(){return[r]})),_:1}),l,o]),Object(n["k"])("div",i,[(Object(n["C"])(!0),Object(n["j"])(n["a"],null,Object(n["I"])(e.messages,(function(e,t){return Object(n["C"])(),Object(n["j"])("div",{class:"clearfix",key:t},[Object(n["k"])("div",{class:Object(n["v"])([f.getposition(e),"w-3/4 mx-4 my-2 p-4 rounded-lg relative"])},[Object(n["k"])("span",b,Object(n["N"])(e.sender),1),Object(n["k"])("span",u,Object(n["N"])(e.message),1),Object(n["k"])("div",d,Object(n["N"])(e.sendtime),1)],2)])})),128))])]),Object(n["k"])("div",g,[Object(n["W"])(Object(n["k"])("textarea",{id:"chat-message-input",class:"flex-grow m-2 py-2 px-4 mr-1 rounded-full border border-gray-300 bg-gray-200 resize-none",rows:"1",placeholder:"Message...","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.message_sent=t}),onKeyup:t[1]||(t[1]=Object(n["X"])((function(){return f.sendMessage&&f.sendMessage.apply(f,arguments)}),["enter"])),style:{outline:"none"}},null,544),[[n["S"],e.message_sent]]),Object(n["k"])("button",{class:"m-2",onClick:t[2]||(t[2]=Object(n["Y"])((function(){return f.sendMessage&&f.sendMessage.apply(f,arguments)}),["prevent"])),style:{outline:"none"}},j)])],64)}var w=s("5530"),O=s("5502"),m={setup:function(){var e=Object(O["b"])(),t=Object(n["G"])({messages:[],message_sent:"",websocket:null,roomId:1,sender:Object(n["f"])((function(){return e.getters.username}))}),s=function(){t.websocket.send(JSON.stringify({message:t.message_sent})),t.message_sent=""},c=function(e){return t.sender!==e.sender?"float-left bg-gray-300":"float-right bg-green-300"};return Object(n["A"])((function(){var e=new WebSocket("ws://"+window.location.host+"/ws/chat/"+t.roomId+"/");e.onmessage=function(e){t.messages.push(JSON.parse(e.data))},e.onclose=function(){console.error("Chat socket closed unexpectedly")},document.querySelector("#chat-message-input").focus(),t.websocket=e})),Object(w["a"])(Object(w["a"])({},Object(n["Q"])(t)),{},{sendMessage:s,getposition:c})}},v=(s("0d9a"),s("d959")),k=s.n(v);const h=k()(m,[["render",p]]);t["default"]=h}}]);
//# sourceMappingURL=chunk-2f07cffc.9faccbaa.js.map